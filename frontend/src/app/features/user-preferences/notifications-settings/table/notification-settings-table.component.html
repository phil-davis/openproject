<div class="generic-table--container form--section">
  <div class="generic-table--results-container">
    <table class="generic-table">
      <colgroup>
        <col>
        <col highlight-col>
        <col highlight-col>
        <col highlight-col>
        <col highlight-col>
        <col highlight-col>
      </colgroup>
      <thead>
      <tr>
        <th>
          <div class="generic-table--empty-header"></div>
        </th>
        <th>
          <div class="generic-table--sort-header-outer">
            <div class="generic-table--sort-header">
              <span [textContent]="text.channel_header"></span>
            </div>
          </div>
        </th>
        <th>
          <div class="generic-table--sort-header-outer">
            <div class="generic-table--sort-header">
              <span [textContent]="text.involved_header"></span>
            </div>
          </div>
        </th>
        <th>
          <div class="generic-table--sort-header-outer">
            <div class="generic-table--sort-header">
              <span [textContent]="text.mentioned_header"></span>
            </div>
          </div>
        </th>
        <th>
          <div class="generic-table--sort-header-outer">
            <div class="generic-table--sort-header">
              <span [textContent]="text.watched_header"></span>
            </div>
          </div>
        </th>
        <th>
          <div class="generic-table--sort-header-outer">
            <div class="generic-table--sort-header">
              <span [textContent]="text.any_event_header"></span>
            </div>
          </div>
        </th>
        <th>
          <div class="generic-table--empty-header"></div>
        </th>
      </tr>
      </thead>
      <tbody>
      <ng-container *ngFor="let item of (groupedNotificationSettings$ | async) | keyvalue: projectOrder">
        <ng-container *ngFor="let setting of item.value; let first = first; let last = last">
          <tr
              class="-no-highlighting"
              op-notification-setting-row
              [attr.data-qa-notification-project]="item.key"
              [attr.data-qa-notification-channel]="setting.channel"
              [first]="first"
              [setting]="setting"
          >
          </tr>
          <tr *ngIf="last"
              class="op-notifications-settings-table--spacer">
            <td colspan="7"></td>
          </tr>
        </ng-container>
      </ng-container>
      </tbody>
    </table>
    <op-notification-setting-inline-create
        *ngIf="userId"
        [userId]="userId"
        (selected)="addRow($event)"
        data-qa-selector="notification-setting-inline-create"
    ></op-notification-setting-inline-create>
  </div>
</div>